<!DOCTYPE html>
<html lang="en">
<head>
		<title>Unlogic &mdash; 'Python</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="http://unlogic.co.uk/theme/css/style.css" />
        <link rel="stylesheet" type="text/css" href="http://unlogic.co.uk/theme/css/pygments.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Unlogic — Flux Atom"
			href="http://unlogic.co.uk/" /> 
		<link rel ="alternate" type="application/rss+xml"
			title="Unlogic — Flux RSS"
			href="http://unlogic.co.uk/feed.xml" /> 
		<!--[if lte IE 8]><script src="http://unlogic.co.uk/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="http://unlogic.co.uk/">Unlogic</a></h1>
<h2 id="site-description">I've got a keyboard, a terminal, and a whole load of luck</h2>		</div><!-- /#banner -->
		
		<div id="menu">
            <div class="menu-social-container">
                <ul id="menu-social" class="social">
                    <li><a href="https://twitter.com/binaryheadache"><i class="fa fa-twitter-square fa-2x"></i></a></li>
                    <li><a href="https://github.com/svenito"><i class="fa fa-github-square fa-2x"></i></a></li>
                    <li><a href="http://unlogic.co.uk/feed.xml"><i class="fa fa-rss-square fa-2x"></i></a></li>
                </ul>
            </div>
			<div class="menu-navigation-container">
                
                <ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://unlogic.co.uk/pages/all-posts.html">All posts</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
            <div style="clear: both;"></div>
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://unlogic.co.uk/2015/01/23/python/">Fri 23 January 2015</a></div>
			<div class="comments"><a href="http://unlogic.co.uk/2015/01/23/python/#disqus_thread" title="Comment on 'Python">comments</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://unlogic.co.uk/2015/01/23/python/" title="Permalink to 'Python" rel="bookmark">'Python</a>
		</h2>
		<div class="entry-content">
			<p>I've not really had much of a play with Python 3, but I'm aware of some of its
differences. Yesterday I found out about a difference that took me by surprise.
Enough of a surprise that I felt the urge to write this post.</p>
<div class="section" id="opinion-divided">
<h2>Opinion Divided</h2>
<p>What surprised me was how <code>/</code> has changed in Python 3. In Python 2.7 it returns
the result of the division of two numbers.</p>
<pre class="code python literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="mi">8</span><span class="o">/</span><span class="mi">2</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span><span class="o">/</span><span class="mi">3</span>
<span class="mi">3</span>
</pre>
<p>Checks out to me. <code>10 / 3</code> is 3.3333, and because we are using integers in
the expression, we expect an integer as the result.
Change the input to floats (or at least one of the inputs)</p>
<pre class="code python literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span><span class="o">/</span><span class="mf">3.0</span>
<span class="mf">3.3333333333333335</span>
</pre>
<p>and we get a float. Right, nothing weird there. Where it starts getting odd is
that in Python 3 you <strong>always</strong> get a float back, unless you use the <code>//</code> operator.
Apparently that is because too many people expected integer division to return a float.
Maybe it's just me and my fellow oldies who think that the original behaviour is
correct and integer division should yield an integer, not a float. Pretty much all
main stream languages behave like this. In C/C++ you need to cast one of the arguments
to a float to get a float back.</p>
<pre class="code cpp literal-block">
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<pre class="code console literal-block">
<span class="o"></span><span class="gp">$</span><span class="o">]</span> ./a.out
<span class="go">3
3.33333</span>
</pre>
<p>I understand that if you are dividing numbers you will want to have
the accuracy of the float type, but I find this a bit of an odd choice
for the Python devs to make. But perhaps this is the future, and I'm
just too old to accept what you whippersnappers are up to with your
fancy <a class="reference external" href="http://i.imgur.com/GUum4gy.gif">languages and tools</a>.</p>
<p>Ultimately, does it really matter? Well yes and no. No, because Python is
dynamically typed, so it doesn't really matter what type the result is, whatever
it gets assigned too will become what it needs to. Yes, because there may be
times when getting a float might cause unexpected behaviour.</p>
<p>It's not the end of the world as such, because the <em>no</em> above greatly
outweighs the <em>yes</em>, but I'm still a little surprised at this change. I would
perhaps have kept <code>/</code> as it is and made <code>//</code> the one that always returns a float.</p>
<p>And just to finish:</p>
<pre class="code python literal-block">
<span class="n">Python</span> <span class="mf">3.4</span><span class="o">.</span><span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span><span class="o">//</span><span class="mi">3</span>
<span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span><span class="o">//</span><span class="mf">3.0</span>
<span class="mf">3.0</span>
</pre>
<p><a class="reference external" href="http://i.imgur.com/WEllYN3.gif">Yeah, sure, why not?</a></p>
</div>

		</div> <!--/#entry-content-->
	</div> <!--/#main-->
</div>  <!--/#post-->
	<div id="comments">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'unlogic';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
</div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p><p>Powered by <a href="http://getpelican.com">Pelican</a></p>
<script type="text/javascript">
    var disqus_shortname = 'unlogic';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>