<!DOCTYPE html>
<html lang="en">
<head>
		<title>Unlogic &mdash; On YAGNI and TEFNAR</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Unlogic — Flux Atom"
			href="/" /> 
		<link rel ="alternate" type="application/rss+xml"
			title="Unlogic — Flux RSS"
			href="/feed.xml" /> 
		<!--[if lte IE 8]><script src="/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="">Unlogic</a></h1>
<h2 id="site-description">I've got a keyboard, a terminal, and a whole load of luck</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pages/about.html">About</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pages/all-posts.html">All posts</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/2014/05/29/on-yagni-and-tefnar/">Thu 29 May 2014</a></div>
			<div class="comments"><a href="/2014/05/29/on-yagni-and-tefnar/#disqus_thread" title="Comment on On YAGNI and TEFNAR">comments</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/2014/05/29/on-yagni-and-tefnar/" title="Permalink to On YAGNI and TEFNAR" rel="bookmark">On YAGNI and TEFNAR</a>
		</h2>
		<div class="entry-content">
			<p>You've probably heard of <a class="reference external" href="https://en.wikipedia.org/wiki/You_Ain%27t_Gonna_Need_It">YAGNI</a>
but not of TEFNAR. To recap YAGNI stands for <strong>Y</strong>ou <strong>A</strong>in't <strong>G</strong>onna <strong>N</strong>eed <strong>I</strong>t and
refers to the development principle of that you shouldn't write a feature that no one has asked for
in the first place as it's probably never going to be needed. Instead wait until
it's a requirement and implement it then. This saves wasted effort and keeps the code base
clean and as small as possible.</p>
<p>TEFNAR stands for <strong>TE</strong>chnology <strong>F</strong>or <strong>N</strong>o <strong>A</strong>pparent <strong>R</strong>eason and is a term
my boss coined (AFAIK). It basically refers to any unnecessary technology that
doesn't really add any functionality to the product. Sure it might look nice, but
is there a reason that's there or does that?</p>
<p>From this you can probably also see that YAGNI applies <em>before</em> and TEFNAR for <em>after</em>
the implementation. So with the background information done let me explain why I am writing
about this. A few people might not like the idea of YAGI and think it's better to
add a feature and make a useful app than omit it. Well allow me to give you an example
from the real world.</p>
<p>A fellow dev here implemented a feature that showed graphs to the user. He added a
feature to animate the graph points from 0 to their actual value each time you
were shown a graph. A very pretty feature indeed, but it doesn't add anything to
the graph. The animation doesn't represent another bit of data or a sort of
progress bar, it's just eye candy. I argued that although it's pretty people will
tire of it after a while. Much like you tire of most little animations you have to sit
through when you just want the end result. I also argued it's unnecessary complexity
that adds to the risk of introducing bugs and also adds another thing for future devs
to debug. Granted, it didn't take him long to code up, but stay tuned, here comes the
lesson.</p>
<p>Fast forward a day and I get called over</p>
<blockquote>
Hey Sven, fancy a Python puzzle?</blockquote>
<p>I took the bait and headed over.</p>
<blockquote>
So in the interpreter <code>1.0 &lt; 1.0</code> is <code>False</code>, which is correct.
But now look at this *runs small python script*. See here, <code>1.0 &lt; 1.0 True</code>
How is that?</blockquote>
<p>I look at the code and notice he's got a loop that adds 0.1 to a variable and
compares that to 1.0. I chuckled.</p>
<blockquote>
Yeah, that's a different kettle of fish. Floats aren't that accurate that you
can accumulate like that and expect it to be <em>exactly</em> 1.0. That's the issue.</blockquote>
<p>He looked a little confused. I explained to him about how floats are represented.
If you are interested you can read up on <a class="reference external" href="https://docs.python.org/2.7/tutorial/floatingpoint.html">floating point values in Python</a>.</p>
<p>To demonstrate I opened an interpreter and ran this:</p>
<pre class="code python literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="mf">0.6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">+=</span> <span class="mf">0.1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="mf">0.7999999999999999</span>
</pre>
<p>I suggested he try the same by incrementing the value by <code>0.2</code> and the error went away.
He looked a little dejected. I asked what this was for and sure enough, it's how he
animated his graphs, so some points were slightly higher than they should be.</p>
<p>So be careful when you add code for no other reason than &quot;it looks nice&quot; as it's
just another area where you can introduce bugs. In this case it was a pretty small
issue, but a different feature could affect a larger part of the program or
even other programs.</p>

		</div> <!--/#entry-content-->
	</div> <!--/#main-->
</div>  <!--/#post-->
	<div id="comments">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'unlogic';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
</div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
<script type="text/javascript">
    var disqus_shortname = 'unlogic';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>