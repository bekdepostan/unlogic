<!DOCTYPE html>
<html lang="en">
<head>
		<title>Unlogic &mdash; Solving Project Euler with Rust 2</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Unlogic — Flux Atom"
			href="/" /> 
		<link rel ="alternate" type="application/rss+xml"
			title="Unlogic — Flux RSS"
			href="/feed.xml" /> 
		<!--[if lte IE 8]><script src="/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="">Unlogic</a></h1>
<h2 id="site-description">I've got a keyboard, a terminal, and a whole load of luck</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pages/about.html">About</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/pages/all-posts.html">All posts</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="/2015/01/20/solving-project-euler-with-rust-2/">Tue 20 January 2015</a></div>
			<div class="comments"><a href="/2015/01/20/solving-project-euler-with-rust-2/#disqus_thread" title="Comment on Solving Project Euler with Rust 2">comments</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="/2015/01/20/solving-project-euler-with-rust-2/" title="Permalink to Solving Project Euler with Rust 2" rel="bookmark">Solving Project Euler with Rust 2</a>
		</h2>
		<div class="entry-content">
			<p>Carrying on with <a class="reference external" href="http://unlogic.co.uk/2015/01/12/solving-project-euler-with-rust-1/">the series</a>, here's
how I solved Project Euler's problem 2:</p>
<blockquote>
<p>Even Fibonacci numbers
Problem 2
Each new term in the Fibonacci sequence is generated by adding the previous
two terms. By starting with 1 and 2, the first 10 terms will be:</p>
<blockquote>
1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</blockquote>
<p>By considering the terms in the Fibonacci sequence whose values do not
exceed four million, find the sum of the even-valued terms.</p>
</blockquote>
<p>Fairly similar to the previous one, in terms that we need to sum a sequence
of filtered numbers. This time though the sequence is not a straight run,
but the fibonacci sequence.</p>
<p>As usual with these issues I assume we will need a recursive function to generate
our fibonacci numbers:</p>
<div class="highlight"><pre><span></span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllkt">i32</span><span class="hllp">)</span><span class="hllw"> </span><span class="hllo">-&gt;</span><span class="hllw"> </span><span class="hllkt">i32</span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllk">if</span><span class="hllw"> </span><span class="hlln">n</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllk">return</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">;</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllp">}</span><span class="hllw"> </span><span class="hllk">else</span><span class="hllw"> </span><span class="hllk">if</span><span class="hllw"> </span><span class="hlln">n</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">1</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllk">return</span><span class="hllw"> </span><span class="hllmi">1</span><span class="hllp">;</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllp">}</span><span class="hllw"> </span><span class="hllk">else</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllk">return</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">-</span><span class="hllmi">1</span><span class="hllp">)</span><span class="hllw"> </span><span class="hllo">+</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">-</span><span class="hllmi">2</span><span class="hllp">);</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllp">}</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>As I am still learning Rust, I am not sure if there's more Rustacean way of doing it.
I couldn't find anything relevant to this in the docs, so for now I will leave it
as it is until I get some feedback on it. I wonder if a closure would be better?</p>
<p>EDIT: From the comments below (thanks pf), this is a much more Rust like implementation IMO:</p>
<div class="highlight"><pre><span></span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllkt">i32</span><span class="hllp">)</span><span class="hllw"> </span><span class="hllo">-&gt;</span><span class="hllw"> </span><span class="hllkt">i32</span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllk">match</span><span class="hllw"> </span><span class="hlln">n</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllmi">0</span><span class="hllw"> </span><span class="hllo">=&gt;</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">,</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllmi">1</span><span class="hllw"> </span><span class="hllo">=&gt;</span><span class="hllw"> </span><span class="hllmi">1</span><span class="hllp">,</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hlln">_</span><span class="hllw"> </span><span class="hllo">=&gt;</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">-</span><span class="hllmi">1</span><span class="hllp">)</span><span class="hllw"> </span><span class="hllo">+</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">n</span><span class="hllo">-</span><span class="hllmi">2</span><span class="hllp">),</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllp">}</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>Now I need to get a list of numbers while the return of the <code>fib</code> function
is &lt; 4,000,000. I cheated a bit here, as I figured out that the max number
to pass to the function in this case is 34.
I would assume that in the <em>more correct</em> way of doing it, the limit is
defined in a better way.</p>
<div class="highlight"><pre><span></span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">main</span><span class="hllp">()</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllkd">let</span><span class="hllw"> </span><span class="hlln">vals</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllp">(</span><span class="hllmi">1</span><span class="hllp">..</span><span class="hllmi">34</span><span class="hllp">).</span><span class="hlln">map</span><span class="hllp">(</span><span class="hllo">|</span><span class="hlln">x</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">x</span><span class="hllp">));</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>Thinking back to the previous example I already know about filter and sum.</p>
<div class="highlight"><pre><span></span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">main</span><span class="hllp">()</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllkd">let</span><span class="hllw"> </span><span class="hlln">vals</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllp">(</span><span class="hllmi">1</span><span class="hllp">..</span><span class="hllmi">34</span><span class="hllp">).</span><span class="hlln">map</span><span class="hllp">(</span><span class="hllo">|</span><span class="hlln">x</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">x</span><span class="hllp">))</span><span class="hllw"></span>
<span class="hllw">                </span><span class="hllp">.</span><span class="hlln">filter</span><span class="hllp">(</span><span class="hllo">|&amp;</span><span class="hlln">x</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">x</span><span class="hllw"> </span><span class="hllo">%</span><span class="hllw"> </span><span class="hllmi">2</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">)</span><span class="hllw"></span>
<span class="hllw">                </span><span class="hllp">.</span><span class="hlln">sum</span><span class="hllp">();</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>But there's a problem:</p>
<div class="highlight"><pre><span></span><span class="hllgo">   Compiling euler_2 v0.0.1 (file:////work/sandbox/euler_rust/euler_2)</span>
<span class="hllgo">/work/sandbox/euler_rust/euler_2/src/main.rs:16:10: 16:15 error: type `core::iter::Filter&lt;i32, core::iter::Map&lt;i32, i32, core::ops::Range&lt;i32&gt;, closure[/work/sandbox/euler_rust/euler_2/src/main.rs:14:32: 14:42]&gt;, closure[/work/sandbox/euler_rust/euler_2/src/main.rs:15:17: 15:31]&gt;` does not implement any method in scope named `sum`</span>
<span class="hllgo">/work/sandbox/euler_rust/euler_2/src/main.rs:16         .sum();</span>
<span class="hllgo">                                                        ^~~~~</span>
<span class="hllgo">error: aborting due to previous error</span>
<span class="hllgo">Could not compile `euler_2`.</span>
</pre></div>
<p>Seems like <code>sum</code> won't work here due to the <code>map</code>. Not to worry, I used <code>fold</code> in the previous example,
before the helpful folks at <a class="reference external" href="http://reddit.com/r/rust">the rust subreddit</a> told me about <cite>sum</cite>,
so let's use that instead, as that should work.</p>
<div class="highlight"><pre><span></span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">main</span><span class="hllp">()</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllkd">let</span><span class="hllw"> </span><span class="hlln">vals</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllp">(</span><span class="hllmi">1</span><span class="hllp">..</span><span class="hllmi">34</span><span class="hllp">).</span><span class="hlln">map</span><span class="hllp">(</span><span class="hllo">|</span><span class="hlln">x</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">fib</span><span class="hllp">(</span><span class="hlln">x</span><span class="hllp">))</span><span class="hllw"></span>
<span class="hllw">                </span><span class="hllp">.</span><span class="hlln">filter</span><span class="hllp">(</span><span class="hllo">|&amp;</span><span class="hlln">x</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">x</span><span class="hllw"> </span><span class="hllo">%</span><span class="hllw"> </span><span class="hllmi">2</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">)</span><span class="hllw"></span>
<span class="hllw">                </span><span class="hllp">.</span><span class="hlln">fold</span><span class="hllp">(</span><span class="hllmi">0</span><span class="hllp">,</span><span class="hllw"> </span><span class="hllo">|</span><span class="hlln">a</span><span class="hllp">,</span><span class="hllw"> </span><span class="hlln">b</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">a</span><span class="hllw"> </span><span class="hllo">+</span><span class="hllw"> </span><span class="hlln">b</span><span class="hllp">);</span><span class="hllw"></span>

<span class="hllw">   </span><span class="hlln">println</span><span class="hllo">!</span><span class="hllp">(</span><span class="hlls">&quot;{}&quot;</span><span class="hllp">,</span><span class="hllw"> </span><span class="hlln">vals</span><span class="hllp">);</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>EDIT: <code>sum</code> does work, I just forgot to add <code>use std::iter::AdditiveIterator;</code> at the
top of the file. The Github file contains this fix.</p>
<p>Let's run it:</p>
<div class="highlight"><pre><span></span><span class="hllgo">cargo run</span>
<span class="hllgo">     Running `target/euler_2`</span>
<span class="hllgo">4613732</span>
</pre></div>
<p>The result checks out, so Project Euler 2 has been solved.</p>
<p>What I would like to know though: Is there a better way to generate the
fibonacci sequence? If you have suggestions (or about anything else on this page),
please leave me a message below. After all, this is a learning exercise for me
and for anyone else interested.</p>
<p>EDIT: With some marvellous feedback (which is a great benefit of posting
these) I have edited the code on Github to use an iterator instead of the recursive call.</p>
<p>The code is now (main credit to /u/emk and others):</p>
<div class="highlight"><pre><span></span><span class="hllkn">use</span><span class="hllw"> </span><span class="hlln">std</span><span class="hllo">::</span><span class="hlln">iter</span><span class="hllo">::</span><span class="hlln">AdditiveIterator</span><span class="hllp">;</span><span class="hllw"></span>

<span class="hllcp">#[derive(Copy)]</span><span class="hllw"></span>
<span class="hllk">pub</span><span class="hllw"> </span><span class="hllk">struct</span><span class="hllw"> </span><span class="hlln">FibonacciSequence</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hlln">n_minus_1</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllkt">u32</span><span class="hllp">,</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hlln">n_minus_2</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllkt">u32</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>

<span class="hllk">impl</span><span class="hllw"> </span><span class="hllnb">Iterator</span><span class="hllw"> </span><span class="hllk">for</span><span class="hllw"> </span><span class="hlln">FibonacciSequence</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllk">type</span><span class="hllw"> </span><span class="hlln">Item</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllkt">u32</span><span class="hllp">;</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">next</span><span class="hllp">(</span><span class="hllo">&amp;</span><span class="hllk">mut</span><span class="hllw"> </span><span class="hllbp">self</span><span class="hllp">)</span><span class="hllw"> </span><span class="hllo">-&gt;</span><span class="hllw"> </span><span class="hllnb">Option</span><span class="hllo">&lt;</span><span class="hllkt">u32</span><span class="hllo">&gt;</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllkd">let</span><span class="hllw"> </span><span class="hllk">mut</span><span class="hllw"> </span><span class="hlln">result</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllbp">self</span><span class="hllp">.</span><span class="hlln">n_minus_1</span><span class="hllw"> </span><span class="hllo">+</span><span class="hllw"> </span><span class="hllbp">self</span><span class="hllp">.</span><span class="hlln">n_minus_2</span><span class="hllp">;</span><span class="hllw"></span>

<span class="hllw">        </span><span class="hllc1">// Special case: If all our fields are zero, we want to generate</span>
<span class="hllw">        </span><span class="hllc1">// our initial 1.  Everything else will work correctly from here.</span>
<span class="hllw">        </span><span class="hllk">if</span><span class="hllw"> </span><span class="hlln">result</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"> </span><span class="hlln">result</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllmi">1</span><span class="hllp">;</span><span class="hllw"> </span><span class="hllp">}</span><span class="hllw"></span>

<span class="hllw">        </span><span class="hllbp">self</span><span class="hllp">.</span><span class="hlln">n_minus_2</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hllbp">self</span><span class="hllp">.</span><span class="hlln">n_minus_1</span><span class="hllp">;</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllbp">self</span><span class="hllp">.</span><span class="hlln">n_minus_1</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hlln">result</span><span class="hllp">;</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllnb">Some</span><span class="hllp">(</span><span class="hlln">result</span><span class="hllp">)</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllp">}</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>

<span class="hllk">pub</span><span class="hllw"> </span><span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">fibonacci_sequence</span><span class="hllp">()</span><span class="hllw"> </span><span class="hllo">-&gt;</span><span class="hllw"> </span><span class="hlln">FibonacciSequence</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hlln">FibonacciSequence</span><span class="hllp">{</span><span class="hlln">n_minus_1</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">,</span><span class="hllw"> </span><span class="hlln">n_minus_2</span><span class="hllo">:</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">}</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>

<span class="hllk">fn</span><span class="hllw"> </span><span class="hlln">main</span><span class="hllp">()</span><span class="hllw"> </span><span class="hllp">{</span><span class="hllw"></span>
<span class="hllw">    </span><span class="hllkd">let</span><span class="hllw"> </span><span class="hlln">sum</span><span class="hllw"> </span><span class="hllo">=</span><span class="hllw"> </span><span class="hlln">fibonacci_sequence</span><span class="hllp">()</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllp">.</span><span class="hlln">filter</span><span class="hllp">(</span><span class="hllo">|&amp;</span><span class="hlln">v</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">v</span><span class="hllw"> </span><span class="hllo">%</span><span class="hllw"> </span><span class="hllmi">2</span><span class="hllw"> </span><span class="hllo">==</span><span class="hllw"> </span><span class="hllmi">0</span><span class="hllp">)</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllp">.</span><span class="hlln">take_while</span><span class="hllp">(</span><span class="hllo">|&amp;</span><span class="hlln">v</span><span class="hllo">|</span><span class="hllw"> </span><span class="hlln">v</span><span class="hllw"> </span><span class="hllo">&lt;=</span><span class="hllw"> </span><span class="hllmi">4000000</span><span class="hllk">u32</span><span class="hllp">)</span><span class="hllw"></span>
<span class="hllw">        </span><span class="hllp">.</span><span class="hlln">sum</span><span class="hllp">();</span><span class="hllw"></span>

<span class="hllw">    </span><span class="hlln">println</span><span class="hllo">!</span><span class="hllp">(</span><span class="hlls">&quot;Result: {}&quot;</span><span class="hllp">,</span><span class="hllw"> </span><span class="hlln">sum</span><span class="hllp">);</span><span class="hllw"></span>
<span class="hllp">}</span><span class="hllw"></span>
</pre></div>
<p>The interesting thing is the performance difference between the iterator
implementation and the recursive call. The recursive implementation timings
are:</p>
<blockquote>
real        0m0.311s
user        0m0.255s
sys 0m0.035s</blockquote>
<p>Versus the timings of the iterator:</p>
<blockquote>
real        0m0.079s
user        0m0.025s
sys 0m0.035s</blockquote>
<p>Clearly a vast improvement there at the cost of a little extra code.
With the iterator the benefit stems from the fact that we track where we
are in the sequence. So for each number we don't need to recursively
call the <code>fib</code> function until n is 1, which is where the big saving comes from.</p>
<p>This and all future solutions are on <a class="reference external" href="https://github.com/Svenito/euler_rust">my Github</a></p>
<p>Also posted to <a class="reference external" href="https://www.reddit.com/r/rust/comments/2t23ow/still_learning_rust_following_on_with_a_write_up/">/r/rust</a></p>

		</div> <!--/#entry-content-->
	</div> <!--/#main-->
</div>  <!--/#post-->
	<div id="comments">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'unlogic';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
</div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
<script type="text/javascript">
    var disqus_shortname = 'unlogic';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>