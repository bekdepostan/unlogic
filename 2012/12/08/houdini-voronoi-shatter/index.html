<!DOCTYPE html>
<html lang="en">
<head>
		<title>Unlogic &mdash; Houdini voronoi shatter</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="https://unlogic.co.uk/theme/css/style.css" />
        <link rel="stylesheet" type="text/css" href="https://unlogic.co.uk/theme/css/pygments.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link href='https://fonts.googleapis.com/css?family=Cousine' rel='stylesheet' type='text/css'>
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Unlogic — Flux Atom"
			href="https://unlogic.co.uk/" /> 
		<link rel ="alternate" type="application/rss+xml"
			title="Unlogic — Flux RSS"
			href="https://unlogic.co.uk/rss.xml" /> 
		<!--[if lte IE 8]><script src="https://unlogic.co.uk/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="https://unlogic.co.uk/">Unlogic</a></h1>
<h2 id="site-description">I've got a keyboard, a terminal, and a whole load of luck</h2>		</div><!-- /#banner -->
		
		<div id="menu">
            <div class="menu-social-container">
                <ul id="menu-social" class="social">
                    <li><a href="https://unlogic.co.uk/sven_unlogic.asc" title="GPG Public Key"><i class="fa fa-key fa-1x"></i></a></li>
                    <li><a href="https://twitter.com/binaryheadache" title="Twitter"><i class="fa fa-twitter fa-1x"></i></a></li>
                    <li><a href="https://github.com/svenito" title="Github"><i class="fa fa-github fa-1x"></i></a></li>
                    <li><a href="https://unlogic.co.uk/feed.xml" title="RSS Feed"><i class="fa fa-rss fa-1x"></i></a></li>
                </ul>
            </div>
			<div class="menu-navigation-container">
                
                <ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://unlogic.co.uk/pages/all-posts.html">All posts</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
            <div style="clear: both;"></div>
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">

<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="https://unlogic.co.uk/2012/12/08/houdini-voronoi-shatter/">Sat 08 December 2012</a></div>
			<div class="comments"><a href="https://unlogic.co.uk/2012/12/08/houdini-voronoi-shatter/#disqus_thread" title="Comment on Houdini voronoi shatter">comments</a></div>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="https://unlogic.co.uk/2012/12/08/houdini-voronoi-shatter/" title="Permalink to Houdini voronoi shatter" rel="bookmark">Houdini voronoi shatter</a>
		</h2>
		<div class="entry-content">
			<p>Thought I would write about creating a very simple voronoi shatter effect in Houdini and how to explode it. The video below demonstrates the effect we're looking to achieve:</p>
<iframe src="https://player.vimeo.com/video/55168444" width="500" height="375" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<p><a href="https://vimeo.com/55168444">voronoi</a> from <a href="https://vimeo.com/user1380774">Sven</a> on <a href="https://vimeo.com">Vimeo</a>.</p><p>The process of creating this is very simple, and I learned a few things from setting this up, so I figured I would share and hope you learn something from it too.</p>
<p>So first we need to drop down a <code>Geometry</code> node and dive inside. Delete the file node and then create a <code>box</code> node. This box will be the object we will shatter. But in order to create a voronoi shatter we also need some seed points to generate the pattern with. So let's do that first. We'll use our box to generate the points we need, so drop down a <code>Points From Volume</code> node and connect the box to its input. Adjust the settings to your liking, or copy the ones below. I kept the number of points low as I wanted fewer and larger pieces.</p>
<img alt="" src="/images/points_from_vol.png" />
<p>Now that we have our points we can drop down a <code>Voronoi Fracture</code> node and connect the points to its second input. The only setting I changed was to turn on <code>Connect Inside Edges</code>. Finally we need to connect the <em>box</em> node to the <em>Voronoi Shatter's</em> first input. Now make the <em>Voronoi shatter</em> visible and you should see your fractured geo.</p>
<img alt="" src="/images/fracture.png" />
<p>Next we'll turn on the dynamics via the rigid bodies shelf at the top. Click <em>RBD Fracture</em> and make sure the voronoi geo is selected and press enter. If you press play now your object will fall down. Hrmmm, not totally awesome, as we wanted to explode it a little too. So the plan is to make all the pieces explode from the outwards, like, for example, along the normals of a sphere say? Yes, that sounds about right. Ok, so let's put down a <em>Sphere</em> and scale it so that it's roughly the same size as the box. Append a <em>Point</em> node to the sphere and add a <em>Normal</em> and <em>Velocity</em> attribute. The <em>Velocity</em> attribute is under the <em>Particle</em> tab and we'll set its value to be a facture of the point's normal. Feel free to play with this value to get the efect you want. Basically this will set the point's velocity to the normal at that point, causing the pieces to rediate outwards when the sim starts.</p>
<img alt="" src="/images/vel_attribute.png" />
<p>Connect the output to the second input of an <em>Attribute Transfer</em> node and then connect the output of that to the <em>Rest Position</em> node. Connect the <em>Box</em> to the first input of the <em>Attribute Transfer</em> node. This will transfer the point attributes of the <em>Sphere</em> onto the shattered geo. You should now have a network that looks like this:</p>
<img alt="" src="/images/finalnetwork.png" />
<p>And yet still to exploding pieces? Well, we need to tell our solver to use the point velocity. So dive into the <em>Autodop Network</em> and on the <em>RBD Fracture Object</em> enable <em>Inherit Velocity From Point Velocity</em>. Hit play and you should see it explode.</p>
<img alt="" src="/images/inherit_pv.png" />

		</div> <!--/#entry-content-->
	</div> <!--/#main-->
</div>  <!--/#post-->
	<div id="comments">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'unlogic';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
</div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p><p>Powered by <a href="http://getpelican.com">Pelican</a></p>
<script type="text/javascript">
    var disqus_shortname = 'unlogic';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>